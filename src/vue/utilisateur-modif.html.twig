{% extends "base.html.twig" %}
{% block style %}<link href="css/style-signin.css" rel="stylesheet"> {% endblock %}
{% block title %} {{ parent() }} - Modifier un utilisateur {% endblock %}

{% block contenu %}

{% if form.utilisateur is defined %}
    {% if form.utilisateur != null %}
    <form class="form-signin" action="index.php?page=utilisateurmodif" method="post" enctype="application/x-www-form-urlencoded">
      <h1 class="h3 mb-3 font-weight-normal">Modifier un utilisateur</h1>
      <div class="form-group">
        <!-- <label for="inputPassword">Modifier le mot de passe</label> -->
        <input type="password" class="form-control" id="inputPassword" name="inputPassword" placeholder="Modifier le mot de passe">
      </div>
      <div class="form-group">
        <!-- <label for="inputPassword2">Confirmation mot de passe</label> -->
        <input type="password" class="form-control" id="inputPassword2" name="inputPassword2" placeholder="Confirmation mot de passe">
      </div>
      <div class="form-group">
        <!-- <label for="nom">Mot de passe</label> -->
        <input type="text" class="form-control" id="nom" name="nom" placeholder="Nom" value="{{form.utilisateur.nom}}" required>
      </div>
      <div class="form-group">
        <!-- <label for="prenom">Mot de passe</label> -->
        <input type="text" class="form-control" id="prenom" name="prenom" placeholder="PrÃ©nom" value="{{form.utilisateur.prenom}}" required>
      </div>
      <div class="form-group">
  <!-- <label for="role">Example select</label> -->
  <select class="form-control" id="role" name="role">
    {% for r in form.roles %}
        {% if r.id == form.utilisateur.idRole %}
         <option value="{{ r.id }}" selected>{{ r.libelle }}</option>
        {% else %}
         <option value="{{ r.id }}">{{ r.libelle }}</option>
        {% endif %}
    {% endfor %}
  </select>
</div>
    <br>
      <input type="hidden" name="email" value="{{ form.utilisateur.email }}"/>
      <button type="submit" class="btn btn-lg btn-purple btn-block" name="btModifier">Modifier</button>
    </form>

    {% else %}
       <h1 class="alert alert-danger" role="alert">{{ form.message }}</h1>
       <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=utilisateur" class="violet">Retourner sur la liste des utilisateurs</a></h1>
    {% endif %}

{% else %}
     {% if form.valide == true %}
         <h1 class="h3 mb-3 font-weight-normal">{{ form.message }} </h1>
         <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=utilisateur" class="violet">Retourner sur la liste des utilisateurs</a></h1>
     {% else %}
      <h1 class="alert alert-danger" role="alert">{{ form.message }}</h1>
      <h1 class="h3 mb-3 font-weight-normal"><a href="index.php?page=utilisateur" class="violet">Retourner sur la liste des utilisateurs</a></h1>
    {% endif %}
{% endif %}

{% endblock %}
